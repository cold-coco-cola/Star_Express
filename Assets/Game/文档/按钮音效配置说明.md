# 按钮音效与交互配置说明

本文档说明如何在 Unity Inspector 中为按钮手动配置点击、悬停音效及视效。

---

## 一、场景分类

| 场景类型 | 音效系统 | 悬停音效 | 点击音效 |
|---------|----------|----------|----------|
| **非关卡**（主菜单、关卡选择等） | MenuAudio | start_menu_hover | start_menu_click |
| **关卡内**（游戏中） | GameplayAudio | in_level_hover | colorpick_click / level_select_click |

---

## 二、非关卡场景按钮（主菜单、关卡选择等）

### 方法一：使用 MenuButton（推荐，音效 + 视效）

1. 确保场景根或 Canvas 上有 **MenuAudio** 组件。
2. 在按钮 GameObject 上添加 **MenuButton** 组件。
3. 在 Inspector 中配置：
   - `Button Text`：按钮文字（留空则自动查找子物体 Text）
   - `Normal Bg Color`：默认背景色（透明可设为 `(1,1,1,0)`）
   - `Hover Bg Color`：悬停/按下时的背景色
   - `Highlight Color`：悬停时文字高亮色
   - `Scale Multiplier`：悬停时缩放倍数（如 1.05）
4. 点击音效：在 Button 的 `On Click()` 中增加 `MenuAudio.PlayClick` 调用，或通过脚本 `btn.onClick.AddListener(audio.PlayClick)`。

**效果**：悬停自动播放 start_menu_hover，点击播放 start_menu_click，并有背景色、文字颜色、缩放过渡。

### 方法二：仅悬停音效（ButtonHoverSound）

1. 确保父级有 **MenuAudio**。
2. 在按钮上添加 **ButtonHoverSound** 组件。
3. 点击音效：在 On Click 中调用 `MenuAudio.PlayClick`。

**效果**：仅悬停音效，无视觉变化。

---

## 三、关卡内按钮

### 悬停音效（in_level_hover）

1. 确保场景中有 **GameplayAudio**（通常由 GameManager 或关卡逻辑创建）。
2. 在按钮上添加 **GameplayButtonHoverSound** 组件。

**效果**：鼠标移入时播放 in_level_hover。

### 点击音效

根据按钮用途选择：

| 用途 | 音效 | 调用方式 |
|------|------|----------|
| 选色、选线、放置飞船 | colorpick_click | `GameplayAudio.Instance?.PlayClick()` |
| 通用按键（暂停、客舱、重试、返回等） | level_select_click | `GameplayAudio.Instance?.PlayGeneralClick()` |

**配置方式**：在 Button 的 `On Click()` 中通过脚本添加：

```csharp
// 选色/选线
btn.onClick.AddListener(() => {
    GameplayAudio.Instance?.PlayClick();
    // 你的业务逻辑
});

// 通用按键
btn.onClick.AddListener(() => {
    GameplayAudio.Instance?.PlayGeneralClick();
    // 你的业务逻辑
});
```

### 点击视效（可选）

在按钮上添加 **ButtonClickAnim** 组件，点击时会有缩放反馈。

---

## 四、音效资源路径（Resources）

| 音效 | 路径 |
|------|------|
| in_level_hover | `音乐/In-Level Sounds/in_level_hover` |
| colorpick_click | `音乐/In-Level Sounds/colorpick_click` |
| level_select_click | `音乐/Menu Sounds/level_select_click` |
| station_click | `音乐/In-Level Sounds/station_click` |
| start_menu_hover | `音乐/Menu Sounds/start_menu_hover` |
| start_menu_click | `音乐/Menu Sounds/start_menu_click` |

---

## 五、快速对照表

| 需求 | 非关卡 | 关卡内 |
|------|--------|--------|
| 悬停音效 | MenuButton 或 ButtonHoverSound | GameplayButtonHoverSound |
| 点击音效 | MenuAudio.PlayClick | PlayClick（选色）或 PlayGeneralClick（通用） |
| 悬停视效 | MenuButton | 无 |
| 点击视效 | ButtonClickAnim（可选） | ButtonClickAnim（可选） |
